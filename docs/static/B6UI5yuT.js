import{A as Ae,Q as He,r as I,G as H,I as e,h as q,R as Le,n as me,j as Oe,D as Pe,B as Re,S as Ve,m as he,x as ee,E as ge,o as A,c as D,z as ue,w as x,N as Y,a as P,q as O,M as J,b as Q,O as Z,T as ce,U as W,H as pe,s as ye,F as ze,u as De,t as Fe,J as Ge,P as Ue,V as We,W as je}from"./BL0tgQHg.js";import{b as Ie,E as fe,e as Ke,a as Xe,_ as Ce,w as qe,c as Je}from"./CappdJd8.js";import{u as Qe}from"./CqBMFSOY.js";import{u as Ye}from"./nIB7RopO.js";import{f as Ze}from"./VLV6Wx8n.js";import{a as xe,d as et,u as tt}from"./BVS7Z2Ts.js";var at="Expected a function";function ve(a,M,n){var s=!0,C=!0;if(typeof a!="function")throw new TypeError(at);return xe(n)&&(s="leading"in n?!!n.leading:s,C="trailing"in n?!!n.trailing:C),et(a,M,{leading:s,maxWait:M,trailing:C})}const st=Ie({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),nt={change:(a,M)=>[a,M].every(Ae)},we=Symbol("carouselContextKey"),de=300,ot=(a,M,n)=>{const{children:s,addChild:C,removeChild:S}=Ye(he(),"ElCarouselItem"),$=He(),o=I(-1),w=I(null),N=I(!1),_=I(),k=I(0),E=I(!0),g=I(!0),d=I(!1),F=H(()=>a.arrow!=="never"&&!e(b)),R=H(()=>s.value.some(t=>t.props.label.toString().length>0)),T=H(()=>a.type==="card"),b=H(()=>a.direction==="vertical"),G=H(()=>a.height!=="auto"?{height:a.height}:{height:`${k.value}px`,overflow:"hidden"}),l=ve(t=>{m(t)},de,{trailing:!0}),i=ve(t=>{V(t)},de),p=t=>E.value?o.value<=1?t<=1:t>1:!0;function f(){w.value&&(clearInterval(w.value),w.value=null)}function y(){a.interval<=0||!a.autoplay||w.value||(w.value=setInterval(()=>L(),a.interval))}const L=()=>{g.value||(d.value=!0),g.value=!1,o.value<s.value.length-1?o.value=o.value+1:a.loop&&(o.value=0)};function m(t){if(g.value||(d.value=!0),g.value=!1,Re(t)){const U=s.value.filter(z=>z.props.name===t);U.length>0&&(t=s.value.indexOf(U[0]))}if(t=Number(t),Number.isNaN(t)||t!==Math.floor(t))return;const u=s.value.length,B=o.value;t<0?o.value=a.loop?u-1:0:t>=u?o.value=a.loop?0:u-1:o.value=t,B===o.value&&r(B),le()}function r(t){s.value.forEach((u,B)=>{u.translateItem(B,o.value,t)})}function j(t,u){var B,U,z,K;const X=e(s),re=X.length;if(re===0||!t.states.inStage)return!1;const Te=u+1,Ne=u-1,ie=re-1,ke=X[ie].states.active,Me=X[0].states.active,Be=(U=(B=X[Te])==null?void 0:B.states)==null?void 0:U.active,$e=(K=(z=X[Ne])==null?void 0:z.states)==null?void 0:K.active;return u===ie&&Me||Be?"left":u===0&&ke||$e?"right":!1}function te(){N.value=!0,a.pauseOnHover&&f()}function ae(){N.value=!1,y()}function se(){d.value=!1}function v(t){e(b)||s.value.forEach((u,B)=>{t===j(u,B)&&(u.states.hover=!0)})}function c(){e(b)||s.value.forEach(t=>{t.states.hover=!1})}function h(t){t!==o.value&&(g.value||(d.value=!0)),o.value=t}function V(t){a.trigger==="hover"&&t!==o.value&&(o.value=t,g.value||(d.value=!0))}function ne(){m(o.value-1)}function be(){m(o.value+1)}function le(){f(),a.pauseOnHover||y()}function Se(t){a.height==="auto"&&(k.value=t)}function Ee(){var t;const u=(t=$.default)==null?void 0:t.call($);if(!u)return null;const B=Ze(u),U="ElCarouselItem",z=B.filter(K=>Ve(K)&&K.type.name===U);return(z==null?void 0:z.length)===2&&a.loop&&!T.value?(E.value=!0,z):(E.value=!1,null)}q(()=>o.value,(t,u)=>{r(u),E.value&&(t=t%2,u=u%2),u>-1&&M("change",t,u)}),q(()=>a.autoplay,t=>{t?y():f()}),q(()=>a.loop,()=>{m(o.value)}),q(()=>a.interval,()=>{le()});const oe=Le();return me(()=>{q(()=>s.value,()=>{s.value.length>0&&m(a.initialIndex)},{immediate:!0}),oe.value=Qe(_.value,()=>{r()}),y()}),Oe(()=>{f(),_.value&&oe.value&&oe.value.stop()}),Pe(we,{root:_,isCardType:T,isVertical:b,items:s,loop:a.loop,addItem:C,removeItem:S,setActiveItem:m,setContainerHeight:Se}),{root:_,activeIndex:o,arrowDisplay:F,hasLabel:R,hover:N,isCardType:T,isTransitioning:d,items:s,isVertical:b,containerStyle:G,isItemsTwoLength:E,handleButtonEnter:v,handleTransitionEnd:se,handleButtonLeave:c,handleIndicatorClick:h,handleMouseEnter:te,handleMouseLeave:ae,setActiveItem:m,prev:ne,next:be,PlaceholderItem:Ee,isTwoLengthShow:p,throttledArrowClick:l,throttledIndicatorHover:i}},lt=["aria-label"],rt=["aria-label"],it=["onMouseenter","onClick"],ut=["aria-label"],ct={key:0},ft={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},vt=P("defs",null,[P("filter",{id:"elCarouselHorizontal"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),P("filter",{id:"elCarouselVertical"},[P("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),dt=[vt],mt="ElCarousel",ht=ee({name:mt}),gt=ee({...ht,props:st,emits:nt,setup(a,{expose:M,emit:n}){const s=a,{root:C,activeIndex:S,arrowDisplay:$,hasLabel:o,hover:w,isCardType:N,items:_,isVertical:k,containerStyle:E,handleButtonEnter:g,handleButtonLeave:d,isTransitioning:F,handleIndicatorClick:R,handleMouseEnter:T,handleMouseLeave:b,handleTransitionEnd:G,setActiveItem:l,prev:i,next:p,PlaceholderItem:f,isTwoLengthShow:y,throttledArrowClick:L,throttledIndicatorHover:m}=ot(s,n),r=ge("carousel"),{t:j}=tt(),te=H(()=>{const v=[r.b(),r.m(s.direction)];return e(N)&&v.push(r.m("card")),v}),ae=H(()=>{const v=[r.e("container")];return s.motionBlur&&e(F)&&v.push(e(k)?`${r.namespace.value}-transitioning-vertical`:`${r.namespace.value}-transitioning`),v}),se=H(()=>{const v=[r.e("indicators"),r.em("indicators",s.direction)];return e(o)&&v.push(r.em("indicators","labels")),s.indicatorPosition==="outside"&&v.push(r.em("indicators","outside")),e(k)&&v.push(r.em("indicators","right")),v});return M({setActiveItem:l,prev:i,next:p}),(v,c)=>(A(),D("div",{ref_key:"root",ref:C,class:O(e(te)),onMouseenter:c[7]||(c[7]=J((...h)=>e(T)&&e(T)(...h),["stop"])),onMouseleave:c[8]||(c[8]=J((...h)=>e(b)&&e(b)(...h),["stop"]))},[e($)?(A(),ue(ce,{key:0,name:"carousel-arrow-left",persisted:""},{default:x(()=>[Y(P("button",{type:"button",class:O([e(r).e("arrow"),e(r).em("arrow","left")]),"aria-label":e(j)("el.carousel.leftArrow"),onMouseenter:c[0]||(c[0]=h=>e(g)("left")),onMouseleave:c[1]||(c[1]=(...h)=>e(d)&&e(d)(...h)),onClick:c[2]||(c[2]=J(h=>e(L)(e(S)-1),["stop"]))},[Q(e(fe),null,{default:x(()=>[Q(e(Ke))]),_:1})],42,lt),[[Z,(v.arrow==="always"||e(w))&&(s.loop||e(S)>0)]])]),_:1})):W("v-if",!0),e($)?(A(),ue(ce,{key:1,name:"carousel-arrow-right",persisted:""},{default:x(()=>[Y(P("button",{type:"button",class:O([e(r).e("arrow"),e(r).em("arrow","right")]),"aria-label":e(j)("el.carousel.rightArrow"),onMouseenter:c[3]||(c[3]=h=>e(g)("right")),onMouseleave:c[4]||(c[4]=(...h)=>e(d)&&e(d)(...h)),onClick:c[5]||(c[5]=J(h=>e(L)(e(S)+1),["stop"]))},[Q(e(fe),null,{default:x(()=>[Q(e(Xe))]),_:1})],42,rt),[[Z,(v.arrow==="always"||e(w))&&(s.loop||e(S)<e(_).length-1)]])]),_:1})):W("v-if",!0),P("div",{class:O(e(ae)),style:ye(e(E)),onTransitionend:c[6]||(c[6]=(...h)=>e(G)&&e(G)(...h))},[Q(e(f)),pe(v.$slots,"default")],38),v.indicatorPosition!=="none"?(A(),D("ul",{key:2,class:O(e(se))},[(A(!0),D(ze,null,De(e(_),(h,V)=>Y((A(),D("li",{key:V,class:O([e(r).e("indicator"),e(r).em("indicator",v.direction),e(r).is("active",V===e(S))]),onMouseenter:ne=>e(m)(V),onClick:J(ne=>e(R)(V),["stop"])},[P("button",{class:O(e(r).e("button")),"aria-label":e(j)("el.carousel.indicator",{index:V+1})},[e(o)?(A(),D("span",ct,Fe(h.props.label),1)):W("v-if",!0)],10,ut)],42,it)),[[Z,e(y)(V)]])),128))],2)):W("v-if",!0),s.motionBlur?(A(),D("svg",ft,dt)):W("v-if",!0)],34))}});var pt=Ce(gt,[["__file","carousel.vue"]]);const yt=Ie({name:{type:String,default:""},label:{type:[String,Number],default:""}}),It=(a,M)=>{const n=Ge(we),s=he(),C=.83,S=I(),$=I(!1),o=I(0),w=I(1),N=I(!1),_=I(!1),k=I(!1),E=I(!1),{isCardType:g,isVertical:d}=n;function F(l,i,p){const f=p-1,y=i-1,L=i+1,m=p/2;return i===0&&l===f?-1:i===f&&l===0?p:l<y&&i-l>=m?p+1:l>L&&l-i>=m?-2:l}function R(l,i){var p,f;const y=e(d)?((p=n.root.value)==null?void 0:p.offsetHeight)||0:((f=n.root.value)==null?void 0:f.offsetWidth)||0;return k.value?y*((2-C)*(l-i)+1)/4:l<i?-(1+C)*y/4:(3+C)*y/4}function T(l,i,p){const f=n.root.value;return f?((p?f.offsetHeight:f.offsetWidth)||0)*(l-i):0}const b=(l,i,p)=>{var f;const y=e(g),L=(f=n.items.value.length)!=null?f:Number.NaN,m=l===i;!y&&!je(p)&&(E.value=m||l===p),!m&&L>2&&n.loop&&(l=F(l,i,L));const r=e(d);N.value=m,y?(k.value=Math.round(Math.abs(l-i))<=1,o.value=R(l,i),w.value=e(N)?1:C):o.value=T(l,i,r),_.value=!0,m&&S.value&&n.setContainerHeight(S.value.offsetHeight)};function G(){if(n&&e(g)){const l=n.items.value.findIndex(({uid:i})=>i===s.uid);n.setActiveItem(l)}}return me(()=>{n.addItem({props:a,states:Ue({hover:$,translate:o,scale:w,active:N,ready:_,inStage:k,animating:E}),uid:s.uid,translateItem:b})}),We(()=>{n.removeItem(s.uid)}),{carouselItemRef:S,active:N,animating:E,hover:$,inStage:k,isVertical:d,translate:o,isCardType:g,scale:w,ready:_,handleItemClick:G}},Ct=ee({name:"ElCarouselItem"}),wt=ee({...Ct,props:yt,setup(a){const M=a,n=ge("carousel"),{carouselItemRef:s,active:C,animating:S,hover:$,inStage:o,isVertical:w,translate:N,isCardType:_,scale:k,ready:E,handleItemClick:g}=It(M),d=H(()=>[n.e("item"),n.is("active",C.value),n.is("in-stage",o.value),n.is("hover",$.value),n.is("animating",S.value),{[n.em("item","card")]:_.value,[n.em("item","card-vertical")]:_.value&&w.value}]),F=H(()=>{const T=`${`translate${e(w)?"Y":"X"}`}(${e(N)}px)`,b=`scale(${e(k)})`;return{transform:[T,b].join(" ")}});return(R,T)=>Y((A(),D("div",{ref_key:"carouselItemRef",ref:s,class:O(e(d)),style:ye(e(F)),onClick:T[0]||(T[0]=(...b)=>e(g)&&e(g)(...b))},[e(_)?Y((A(),D("div",{key:0,class:O(e(n).e("mask"))},null,2)),[[Z,!e(C)]]):W("v-if",!0),pe(R.$slots,"default")],6)),[[Z,e(E)]])}});var _e=Ce(wt,[["__file","carousel-item.vue"]]);const kt=qe(pt,{CarouselItem:_e}),Mt=Je(_e);export{Mt as E,kt as a};
